(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{210:function(e,t,a){e.exports=a(349)},215:function(e,t,a){},222:function(e,t){},224:function(e,t){},262:function(e,t){},263:function(e,t){},319:function(e,t,a){},320:function(e,t,a){},339:function(e,t,a){},340:function(e,t,a){},341:function(e,t,a){},342:function(e,t,a){},345:function(e,t,a){},346:function(e,t,a){},347:function(e,t,a){},349:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(40),s=a.n(c),o=(a(215),a(9)),l=a(41),E=a(13),i=a(64),u=function(){return localStorage.getItem("token")};function _(){return r.a.createElement("div",{className:"ui vertical pointing menu"},r.a.createElement("a",{className:"item"},"Home"),r.a.createElement("a",{className:"item"},"Messages"),r.a.createElement("a",{className:"item"},"Friends"),r.a.createElement("a",{className:"item"},"Music"),r.a.createElement("a",{className:"item"},"Wall"),r.a.createElement("a",{className:"item"},"Settings"))}var S=a(25),m=(a(319),a(363));a(320);function p(){var e=Object(o.e)((function(e){return e.users})).user;return r.a.createElement("div",{className:"account"},r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement("img",{width:30,height:30,style:{borderRadius:"50%"},src:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/website",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_DEV_API:"http://localhost:9999/api",REACT_APP_DEV_FILE_PATH:"http://localhost:9999/static",REACT_APP_DEV_WS_URL:"ws://localhost:9999",REACT_APP_PROD_API:"https://voyager-3.herokuapp.com/api",REACT_APP_PROD_FILE_PATH:"https://voyager-3.herokuapp.com/static",REACT_APP_PROD_WS_URL:"wss://voyager-3.herokuapp.com"}).REACT_APP_FILE_PATH,"/").concat(null===e||void 0===e?void 0:e.avatar_image)}),r.a.createElement("span",null,null===e||void 0===e?void 0:e.first_name," - ",null===e||void 0===e?void 0:e.last_name)))}var d,T=a(1),O=a(10),f=a.n(O),U=a(21),v=a(196),R=a.n(v).a.create({baseURL:"https://voyager-3.herokuapp.com/api"});!function(e){e.AUTHENTICATE_REQUEST="AUTHENTICATE_REQUEST",e.AUTHENTICATE_SUCCESS="AUTHENTICATE_SUCCESS",e.AUTHENTICATE_FAILURE="AUTHENTICATE_FAILURE",e.GET_ALL_USERS_REQUEST="GET_ALL_USERS_REQUEST",e.GET_ALL_USERS_SUCCESS="GET_ALL_USERS_SUCCESS",e.GET_ALL_USERS_FAILURE="GET_ALL_USERS_FAILURE",e.UPDATE_USER_SUCCESS="UPDATE_USER_SUCCESS",e.UPDATE_USER_REQUEST="UPDATE_USER_REQUEST",e.UPDATE_USER_FAILURE="UPDATE_USER_FAILURE",e.GET_USER_BY_ID_REQUEST="GET_USER_BY_ID_REQUEST",e.GET_USER_BY_ID_SUCCESS="GET_USER_BY_ID_SUCCESS",e.GET_USER_BY_ID_FAILURE="GET_USER_BY_ID_FAILURE",e.CREATE_USER_REQUEST="CREATE_USER_REQUEST",e.CREATE_USER_SUCCESS="CREATE_USER_SUCCESS",e.CREATE_USER_FAILURE="CREATE_USER_FAILURE",e.USER_TO_STORAGE="USER_TO_STORAGE",e.LOG_OUT="LOG_OUT"}(d||(d={}));var C=u();R.defaults.headers.common.Authorization="Bearer ".concat(C);var A,g=function(){return localStorage.removeItem("token"),{type:d.LOG_OUT,payload:null}},b=function(e){return{type:d.USER_TO_STORAGE,payload:null===e||void 0===e?void 0:e.user}},N=function(){var e=Object(o.d)(),t=Object(n.useState)({activeItem:""}),a=Object(S.a)(t,2),c=a[0],s=(a[1],function(){});return r.a.createElement(m.a,{fluid:!0},r.a.createElement(l.b,{to:"/posts",className:"link"},r.a.createElement(m.a.Item,{name:"posts",active:"posts"===c.activeItem,onClick:s})),r.a.createElement(l.b,{to:"/messages",className:"link"},r.a.createElement(m.a.Item,{name:"messages",active:"messages"===c.activeItem,onClick:s})),r.a.createElement(l.b,{to:"/users",className:"link"},r.a.createElement(m.a.Item,{name:"users",active:"users"===c.activeItem,onClick:s})),r.a.createElement(m.a.Item,{name:"account",position:"right"},r.a.createElement(l.b,{to:"/account",className:"link"},r.a.createElement(p,null))),r.a.createElement(m.a.Item,{name:"Logout",onClick:function(){return e(g())}}))},y=(a(339),function(e){var t=e.path,a=e.component;return u()?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"top-bar"},r.a.createElement(N,null)),r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"menu"},r.a.createElement(_,null)),r.a.createElement("div",{className:"route"},r.a.createElement(E.b,{exact:!0,path:t,component:a})))):r.a.createElement(E.a,{to:"/login"})}),P=a(55),j=(a(340),function(){var e=Object(n.useState)({login:"",password:""}),t=Object(S.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(null),l=Object(S.a)(s,2),_=l[0],m=l[1],p=Object(o.e)((function(e){return e.users})),O=p.user,v=p.error,C=Object(o.d)();Object(n.useEffect)((function(){if(!O){var e=u();if(e){var t=i.decode(e);C(b(t))}}}),[O,v]),Object(n.useEffect)((function(){if(!_){var e=u();m(e)}}),[O,C]);var A=function(e){var t=e.currentTarget,a=t.name,n=t.value;c((function(e){return Object(T.a)({},e,Object(P.a)({},a,n))}))},g=Object(E.g)();return r.a.createElement("div",{className:"login-page"},r.a.createElement("div",{className:"login-from"},r.a.createElement("div",{className:"ui middle aligned center aligned grid login-from"},r.a.createElement("div",{className:"column"},r.a.createElement("form",{className:"ui large form"},r.a.createElement("div",{className:"ui stacked secondary  segment"},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"ui left icon input"},r.a.createElement("i",{className:"user icon"}),r.a.createElement("input",{type:"text",name:"login",id:"login",placeholder:"Login",onChange:A,value:a.login}))),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"ui left icon input"},r.a.createElement("i",{className:"lock icon"}),r.a.createElement("input",{type:"password",name:"password",id:"password",placeholder:"Password",onChange:A,value:a.password}))),r.a.createElement("div",{className:"ui fluid large teal submit button",onClick:function(){C(function(e,t,a){return function(){var n=Object(U.a)(f.a.mark((function n(r){var c,s;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:d.AUTHENTICATE_REQUEST,payload:null}),n.next=4,R.post("/users/authenticate",{login:e,password:t});case 4:c=n.sent,E=c.data.token,localStorage.setItem("token",E),s=i.decode(E),r((l=s.user,{type:d.AUTHENTICATE_SUCCESS,payload:{user:l}})),200===c.status&&a.push("/posts"),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),r((o=n.t0,{type:d.AUTHENTICATE_FAILURE,payload:{error:o}}));case 13:case"end":return n.stop()}var o,l,E}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()}(a.login,a.password,g)),c({login:"",password:""})}},"Login")),r.a.createElement("div",{className:"ui error message ".concat(v&&"visible")},"\u041e\u0448\u0438\u0431\u043a\u0430")),r.a.createElement("div",{className:"ui message"},"Haven't profile? ",r.a.createElement("a",{href:"#"},"Register"))))))}),I="CREATE_MESSAGE",L="GET_ALL_MESSAGES",h="REMOVE_MESSAGE",D="EDIT_MESSAGE",w="NEW_USER_ONLINE",G="USER_ARE_DISCONNECT",k="CHANGE_WS_STATUS",F="WS_CONNECTED",Q="WS_DISCONNECT",x="TYPING",M=function(e){return{type:I,payload:{message:e}}},B=function(e){return{type:D,payload:{message:e}}},H=function(e){return{type:G,payload:{user:JSON.parse(e)}}},V=function(e){return{type:k,payload:e}},Y=function(e){return{type:x,payload:{user:e}}};!function(e){e.CONNECTING="CONNECTING",e.CONNECTED="CONNECTED",e.CONNECTION_ERROR="CONNECTION_ERROR"}(A||(A={}));a(341);var K,W=function(){var e=Object(n.useRef)(null),t=Object(n.useState)({content:"",id:0}),a=Object(S.a)(t,2),c=a[0],s=a[1],l=Object(o.d)(),E=Object(o.e)((function(e){return e.messages})),i=E.allMessages,_=(E.activeUsers,Object(o.e)((function(e){return e.websocketState})).wsState,Object(o.e)((function(e){return e.users})).user),m=Object(o.e)((function(e){return e.messages})).who_type,p=Object(n.useState)(!1),d=Object(S.a)(p,2),O=d[0],v=d[1],R=Object(n.useCallback)((function(t){l({type:A.CONNECTING}),t.onopen=function(){l({type:A.CONNECTED}),l(V(F));var a=u();t.send(JSON.stringify({type:w,token:a})),t.send(JSON.stringify({type:L,token:a})),e.current=t},t.onmessage=function(){var e=Object(U.a)(f.a.mark((function e(t){var a,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=JSON.parse(t.data),console.log(a),e.t0=a.type,e.next=e.t0===L?5:e.t0===h?7:e.t0===D?9:e.t0===I?11:e.t0===w?13:e.t0===G?17:e.t0===x?19:"error"===e.t0?22:24;break;case 5:return l((s=a.messages,{type:L,payload:{message:s}})),e.abrupt("return");case 7:return l((c=a.id,{type:h,payload:{id:c}})),e.abrupt("return");case 9:return l(B(a.message)),e.abrupt("return");case 11:return l(M(a.message)),e.abrupt("return");case 13:return n=a.activeUsers,r=Object.values(n).map((function(e){return JSON.parse(e)})),l({type:w,payload:{users:r}}),e.abrupt("return");case 17:return l(H(a.user)),e.abrupt("return");case 19:return l(Y(a.user)),console.log(a),e.abrupt("return");case 22:return console.log(a),e.abrupt("return");case 24:return e.abrupt("return");case 25:case"end":return e.stop()}var c,s}),e)})));return function(t){return e.apply(this,arguments)}}(),t.onclose=function(){l(V(Q)),t.send(JSON.stringify({type:G})),e.current=null},t.onerror=function(){var e=Object(U.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l({type:A.CONNECTION_ERROR});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),[l]);Object(n.useEffect)((function(){var t=new WebSocket("ws://localhost:9999");return R(t),function(){e.current=null,t.close(1e3)}}),[R]);var C=Object(n.useRef)(null);Object(n.useEffect)((function(){var e;null===(e=C.current)||void 0===e||e.focus()}),[i]);var g=u();Object(n.useEffect)((function(){var e;return m&&(e=setTimeout((function(){l(Y(null))}),4e3)),function(){e&&clearTimeout(e)}}),[m]);var b=function(t){var a;null===(a=e.current)||void 0===a||a.send(JSON.stringify({type:h,id:t}))},N=function(t){var a;null===(a=e.current)||void 0===a||a.send(JSON.stringify({type:D,id:t,text_content:c.content})),s({content:"",id:0}),v(!1)},y=function(e){s({content:e.text_content,id:e.id}),v(!0)};return r.a.createElement("div",{className:"messages"},r.a.createElement("div",{className:"messages-container"},i.map((function(e){return e.owner_fullname==="".concat(null===_||void 0===_?void 0:_.first_name," ").concat(null===_||void 0===_?void 0:_.last_name)?r.a.createElement("div",{key:919191*Math.random(),className:"message-item-right"},r.a.createElement("span",{className:"message-owner"},r.a.createElement("i",{className:"trash alternate icon",onClick:function(){return b(e.id)}}),r.a.createElement("i",{className:"edit icon",onClick:function(){return y(e)}})),r.a.createElement("p",{className:"message-text"},e.text_content)):r.a.createElement("div",{key:919191*Math.random(),className:"message-item"},r.a.createElement("span",{className:"message-owner"},r.a.createElement("span",{style:{marginLeft:5}},e.owner_fullname),r.a.createElement("span",{style:{marginLeft:20}},r.a.createElement("i",{className:"trash alternate icon",onClick:function(){return b(e.id)}}),r.a.createElement("i",{className:"edit icon",onClick:function(){return y(e)}}))),r.a.createElement("p",{className:"message-text"},e.text_content))}))),m&&(null===m||void 0===m?void 0:m.id)!==(null===_||void 0===_?void 0:_.id)?"".concat(null===m||void 0===m?void 0:m.first_name," is typing..."):"",r.a.createElement("div",{className:"message-send-form"},r.a.createElement("input",{ref:C,name:"content",value:c.content,onChange:function(t){var a,n=t.target.value;s((function(e){return Object(T.a)({},e,{content:n})})),null===(a=e.current)||void 0===a||a.send(JSON.stringify({type:x,token:g})),l({type:"MESSAGE_CONTENT_CHANGE",payload:{value:n}})}}),r.a.createElement("button",{onClick:function(t){t.preventDefault();var a,n=u();if(!O)return null===(a=e.current)||void 0===a||a.send(JSON.stringify({message_id:1e5*Math.random(),text_content:c.content,replied_to_text:"",replied_to_id:"",type:I,token:n})),void s({content:"",id:0});N(c.id)}},r.a.createElement("i",{className:"paper plane outline icon"}))))};!function(e){e.GET_ALL_POSTS_REQUEST="GET_ALL_POSTS_REQUEST",e.GET_ALL_POSTS_SUCCESS="GET_ALL_POSTS_SUCCESS",e.GET_ALL_POSTS_FAILURE="GET_ALL_POSTS_FAILURE",e.UPDATE_POST_REQUEST="UPDATE_POST_REQUEST",e.UPDATE_POST_SUCCESS="UPDATE_POST_SUCCESS",e.UPDATE_POST_FAILURE="UPDATE_POST_FAILURE",e.CREATE_POST_REQUEST="CREATE_POST_REQUEST",e.CREATE_POST_SUCCESS="CREATE_POST_SUCCESS",e.CREATE_POST_FAILURE="CREATE_POST_FAILURE",e.REMOVE_POST_REQUEST="REMOVE_POST_REQUEST",e.REMOVE_POST_SUCCESS="REMOVE_POST_SUCCESS",e.REMOVE_POST_FAILURE="REMOVE_POST_FAILURE",e.GET_POST_BY_ID_REQUEST="GET_POST_BY_ID_REQUEST",e.GET_POST_BY_ID_SUCCESS="GET_POST_BY_ID_SUCCESS",e.GET_POST_BY_ID_FAILURE="GET_POST_BY_ID_FAILURE",e.POST_LIKE_REQUEST="POST_LIKE_REQUEST",e.POST_LIKE_SUCCESS="POST_LIKE_SUCCESS",e.POST_LIKE_FAILURE="POST_LIKE_FAILURE"}(K||(K={})),R.interceptors.request.use((function(e){var t=u();return e.headers=Object(T.a)({},e.headers,{Authorization:"Bearer ".concat(t)}),e}),(function(e){return console.log("rejrcted",e),Promise.reject(e)}));var J=function(e){return{type:K.GET_ALL_POSTS_SUCCESS,payload:{posts:e}}},z=function(e){return{type:K.GET_ALL_POSTS_FAILURE,payload:{error:e}}},X=function(e,t){401===e.response.status&&t(g())},q=a(365),$=a(364),Z=a(133),ee=(a(342),function(e){var t=e.postImage,a=e.postContent,n=e.postOwner,c=e.postCreatedAt,s=e.postLikes,o=e.onLike,l=e.postId;return r.a.createElement(q.a,{centered:!0,className:"card"},r.a.createElement(q.a.Header,{className:"header-r"},"Hello"),r.a.createElement($.a,{src:t,ui:!0,className:"image"}),r.a.createElement(q.a.Content,null,r.a.createElement(q.a.Header,null,n),r.a.createElement(q.a.Meta,null,r.a.createElement("span",{className:"date"},c)),r.a.createElement(q.a.Description,null,a)),r.a.createElement(q.a.Content,{extra:!0},r.a.createElement("a",null,r.a.createElement(Z.a,{name:"like",onClick:function(){return o(l)}}),s)))}),te=(a(345),function(){var e=Object(o.d)(),t=Object(o.e)((function(e){return e.posts})).posts;Object(n.useEffect)((function(){return 0===t.length&&e(function(){var e=Object(U.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:K.GET_ALL_POSTS_REQUEST}),e.next=4,R.get("/posts/getAll");case 4:a=e.sent,n=a.data.posts,t(J(n)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),t(z(e.t0)),X(e.t0,t);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()),function(){}}),[t]);var a=function(t){var a;console.log(t),e((a=t,function(){var e=Object(U.a)(f.a.mark((function e(t,n){var r,c,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=n().users.user.id,t({type:K.POST_LIKE_REQUEST}),e.next=5,R.post("/posts/like",{user_id:r,post_id:a});case 5:c=e.sent,s=c.data,console.log(s),t((l=s,{type:K.POST_LIKE_SUCCESS,payload:{post:l}})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t((o=e.t0,{type:K.POST_LIKE_FAILURE,payload:{error:o}}));case 14:case"end":return e.stop()}var o,l}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()))};return r.a.createElement("div",{className:"posts-page"},r.a.createElement("div",{className:"posts"},null===t||void 0===t?void 0:t.map((function(e){return r.a.createElement(ee,{key:e.id,postId:e.post_id,postContent:e.content,postCreatedAt:e.createdAt,postImage:"".concat("http://localhost:9999/static","/").concat(e.media),postOwner:"".concat(e.owner_id),postLikes:e.post_likes,onLike:function(e){return a(e)}})}))))}),ae=(a(346),function(e){var t=e.users;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"ui four column grid"},t&&t.map((function(e){return r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"ui fluid card"},r.a.createElement("div",{className:"image"},r.a.createElement("img",{src:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/website",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_DEV_API:"http://localhost:9999/api",REACT_APP_DEV_FILE_PATH:"http://localhost:9999/static",REACT_APP_DEV_WS_URL:"ws://localhost:9999",REACT_APP_PROD_API:"https://voyager-3.herokuapp.com/api",REACT_APP_PROD_FILE_PATH:"https://voyager-3.herokuapp.com/static",REACT_APP_PROD_WS_URL:"wss://voyager-3.herokuapp.com"}).REACT_APP_FILE_PATH,"/").concat(e.avatar_image)})),r.a.createElement("div",{className:"content"},r.a.createElement("a",{className:"header"},e.first_name," ",e.last_name))))}))))}),ne=function(){var e=Object(o.d)(),t=Object(o.e)((function(e){return e.users})).allUsers;return Object(n.useEffect)((function(){t||e(function(){var e=Object(U.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:d.GET_ALL_USERS_REQUEST,payload:null}),e.next=4,R.get("/users/all");case 4:a=e.sent,t((r=a.data.users,{type:d.GET_ALL_USERS_SUCCESS,payload:{users:r}})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t((n=e.t0,{type:d.GET_ALL_USERS_FAILURE,payload:{error:n}}));case 11:case"end":return e.stop()}var n,r}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[e,t]),r.a.createElement(r.a.Fragment,null,"User-List",r.a.createElement(ae,{users:t}))},re=(a(347),function(){var e=Object(n.useState)({file:null,content:""}),t=Object(S.a)(e,2),a=t[0],c=t[1],s=Object(n.useRef)(null),l=Object(o.d)(),E=function(e){var t=e.currentTarget,a=t.name,n=t.value;if("file"!==a)c((function(e){return Object(T.a)({},e,Object(P.a)({},a,n))}));else{var r,o=null===s||void 0===s||null===(r=s.current)||void 0===r?void 0:r.files,l=Object(S.a)(o,1)[0];c((function(e){return Object(T.a)({},e,Object(P.a)({},a,l))}))}};return r.a.createElement("div",{className:"body"},r.a.createElement("form",{onSubmit:function(e){var t,n;(e.preventDefault(),a.file)&&(l((t=a.content,n=a.file,function(){var e=Object(U.a)(f.a.mark((function e(a,r){var c,s,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=r().users.user,a({type:K.CREATE_POST_REQUEST}),(s=new FormData).append("content",t),s.append("owner_id",c.id),n&&s.append("post_media",n),e.next=9,R.post("/posts/createPost",s);case 9:o=e.sent,a((E=o.data,{type:K.CREATE_POST_SUCCESS,payload:{post:E}})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),a((l=e.t0,{type:K.CREATE_POST_FAILURE,payload:{error:l}}));case 16:case"end":return e.stop()}var l,E}),e,null,[[0,13]])})));return function(t,a){return e.apply(this,arguments)}}())),s.current="")}},r.a.createElement("h6",null,"Create new post"),r.a.createElement("h6",null,"Text content"),r.a.createElement("input",{onChange:E,type:"text",name:"content",id:"content",value:a.content}),r.a.createElement("h6",null,"File"),r.a.createElement("input",{onChange:E,type:"file",ref:s,name:"file",id:"file"}),r.a.createElement("a",{href:"#",className:"submit"},"SUBMIT")))}),ce=function(){return r.a.createElement("div",null,r.a.createElement(re,null))};var se=function(){var e=Object(o.d)(),t=Object(o.e)((function(e){return e.users})).user;return Object(n.useEffect)((function(){if(!t){var a=u();if(a){var n=i.decode(a);e(b(n))}}}),[t,e]),r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,null,r.a.createElement(E.d,null,r.a.createElement(E.b,{path:"/login",exact:!0,component:j}),r.a.createElement(y,{path:"/messages",component:W}),r.a.createElement(y,{path:"/users",component:ne}),r.a.createElement(y,{path:"/posts",component:te}),r.a.createElement(y,{path:"/home",component:ce}),r.a.createElement(E.a,{to:"/login"}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var oe,le=a(50),Ee=a(198),ie=a(22),ue={allMessages:[],edit_content:"",content:"",activeUsers:[],status:null,who_type:null},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:var a=t.payload.message;return Object(T.a)({},e,{allMessages:Object(ie.a)(a)});case h:var n=t.payload.id;return Object(T.a)({},e,{allMessages:Object(ie.a)(e.allMessages).filter((function(e){return e.id!==n}))});case D:var r=t.payload.message;return Object(T.a)({},e,{allMessages:[Object(T.a)({},r)].concat(Object(ie.a)(e.allMessages.filter((function(e){return e.id!==r.id}))))});case I:var c=t.payload.message;return Object(T.a)({},e,{allMessages:[].concat(Object(ie.a)(e.allMessages),[Object(T.a)({},c)])});case k:return Object(T.a)({},e,{status:t.payload});case w:var s=t.payload.users;return Object(T.a)({},e,{activeUsers:Object(ie.a)(s)});case G:var o=t.payload.user;return Object(T.a)({},e,{activeUsers:Object(ie.a)(e.activeUsers.filter((function(e){return e.id!==o.id})))});case x:return Object(T.a)({},e,{who_type:t.payload.user});default:return e}},Se={posts:[],postById:null,loading:!1,error:null},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K.GET_ALL_POSTS_REQUEST:return Object(T.a)({},e,{loading:!0});case K.GET_ALL_POSTS_SUCCESS:return Object(T.a)({},e,{posts:Object(ie.a)(t.payload.posts),loading:!1});case K.GET_ALL_POSTS_FAILURE:return Object(T.a)({},e,{error:t.payload.error,loading:!1});case K.GET_POST_BY_ID_REQUEST:return Object(T.a)({},e,{loading:!0});case K.GET_POST_BY_ID_SUCCESS:return Object(T.a)({},e,{loading:!1,postById:Object(T.a)({},t.payload.post)});case K.GET_POST_BY_ID_FAILURE:return Object(T.a)({},e,{loading:!1,error:t.payload.error});case K.CREATE_POST_REQUEST:return Object(T.a)({},e,{loading:!0});case K.CREATE_POST_SUCCESS:return Object(T.a)({},e,{posts:[Object(T.a)({},t.payload.post)].concat(Object(ie.a)(e.posts))});case K.CREATE_POST_FAILURE:case K.UPDATE_POST_REQUEST:return Object(T.a)({},e,{loading:!1});case K.UPDATE_POST_SUCCESS:var a=t.payload.post,n=e.posts.map((function(e){return e.id===a.id?Object(T.a)({},a):e}));return Object(T.a)({},e,{posts:Object(ie.a)(n),loading:!1});case K.UPDATE_POST_FAILURE:return Object(T.a)({},e,{loading:!1,error:t.payload.error});case K.REMOVE_POST_REQUEST:return Object(T.a)({},e,{loading:!0});case K.REMOVE_POST_SUCCESS:return Object(T.a)({},e,{posts:Object(ie.a)(e.posts.filter((function(e){return e.id!=t.payload.id})))});case K.REMOVE_POST_FAILURE:return Object(T.a)({},e,{loading:!1,error:t.payload.error});case K.POST_LIKE_REQUEST:return Object(T.a)({},e,{loading:!0});case K.POST_LIKE_SUCCESS:var r=t.payload.post,c=e.posts.map((function(e){return e.id===r.id?Object(T.a)({},r):e}));return Object(T.a)({},e,{posts:Object(ie.a)(c),loading:!1});case K.POST_LIKE_FAILURE:return Object(T.a)({},e,{loading:!1,error:t.payload.error});default:return e}},pe={user:null,allUsers:null,userById:{id:0,first_name:"",last_name:"",age:0,salary:0,avatar_image:""},loading:!1,error:null},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.AUTHENTICATE_REQUEST:return Object(T.a)({},e,{loading:!1});case d.AUTHENTICATE_SUCCESS:var a=t.payload.user;return Object(T.a)({},e,{user:Object(T.a)({},a),loading:!1});case d.AUTHENTICATE_FAILURE:var n=t.payload.error;return Object(T.a)({},e,{error:n,loading:!1});case d.UPDATE_USER_REQUEST:return Object(T.a)({},e,{loading:!0});case d.UPDATE_USER_SUCCESS:return Object(T.a)({},e,{},t.payload,{loading:!1});case d.UPDATE_USER_FAILURE:return Object(T.a)({},e,{loading:!1,error:t.payload.error});case d.CREATE_USER_REQUEST:return Object(T.a)({},e,{loading:!0});case d.CREATE_USER_SUCCESS:return Object(T.a)({},e,{loading:!1});case d.CREATE_USER_FAILURE:return Object(T.a)({},e,{loading:!1,error:t.payload.error});case d.GET_USER_BY_ID_REQUEST:return Object(T.a)({},e,{loading:!0});case d.GET_USER_BY_ID_SUCCESS:return Object(T.a)({},e,{loading:!1,userById:t.payload});case d.GET_USER_BY_ID_FAILURE:return Object(T.a)({},e,{loading:!1,error:t.payload.error});case d.GET_ALL_USERS_REQUEST:return Object(T.a)({},e,{loading:!0});case d.GET_ALL_USERS_SUCCESS:var r=t.payload.users;return Object(T.a)({},e,{loading:!1,allUsers:Object(ie.a)(r)});case d.GET_ALL_USERS_FAILURE:return Object(T.a)({},e,{loading:!1,error:t.payload.error});case d.USER_TO_STORAGE:return Object(T.a)({},e,{loading:!1,user:Object(T.a)({},t.payload)});case d.LOG_OUT:return Object(T.a)({},e,{loading:!1,user:null});default:return e}},Te={wsState:""},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A.CONNECTED:return Object(T.a)({},e,{wsState:A.CONNECTED});case A.CONNECTING:return Object(T.a)({},e,{wsState:A.CONNECTING});case A.CONNECTION_ERROR:return Object(T.a)({},e,{wsState:A.CONNECTION_ERROR});default:return e}},fe=a(199),Ue=a(26),ve=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||le.d,Re=Object(Ue.b)(),Ce=Object(le.e)((oe=Re,Object(le.c)({router:Object(fe.a)(oe),messages:_e,users:de,websocketState:Oe,posts:me})),ve(Object(le.a)(Ee.a)));a(348);s.a.render(r.a.createElement(o.a,{store:Ce},r.a.createElement(r.a.StrictMode,null,r.a.createElement(se,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[210,1,2]]]);
//# sourceMappingURL=main.66ab7340.chunk.js.map